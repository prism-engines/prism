# Tennessee Eastman Process (TEP) Cohort Configuration
# =====================================================
#
# TEP has 53 signals:
#   - XMEAS01-XMEAS41: 41 process measurements
#   - XMV01-XMV11: 11 manipulated variables (control valves)
#   - FAULT: Fault code signal
#
# Cohort groupings based on process unit and function

cohorts:
  # ---------------------------------------------------------------------------
  # PROCESS MEASUREMENTS - By process unit
  # ---------------------------------------------------------------------------

  feeds:
    description: "Feed streams (A, D, E, A+C)"
    signals:
      - TEP_XMEAS01  # A feed (stream 1)
      - TEP_XMEAS02  # D feed (stream 2)
      - TEP_XMEAS03  # E feed (stream 3)
      - TEP_XMEAS04  # A and C feed (stream 4)
      - TEP_XMEAS05  # Recycle flow (stream 8)
      - TEP_XMEAS06  # Reactor feed rate (stream 6)

  reactor:
    description: "Reactor conditions (pressure, level, temperature)"
    signals:
      - TEP_XMEAS07  # Reactor pressure
      - TEP_XMEAS08  # Reactor level
      - TEP_XMEAS09  # Reactor temperature
      - TEP_XMEAS21  # Reactor cooling water outlet temp

  separator:
    description: "Product separator conditions"
    signals:
      - TEP_XMEAS11  # Product separator temperature
      - TEP_XMEAS12  # Product separator level
      - TEP_XMEAS13  # Product separator pressure
      - TEP_XMEAS14  # Product separator underflow
      - TEP_XMEAS22  # Separator cooling water outlet temp

  stripper:
    description: "Stripper column conditions"
    signals:
      - TEP_XMEAS15  # Stripper level
      - TEP_XMEAS16  # Stripper pressure
      - TEP_XMEAS17  # Stripper underflow
      - TEP_XMEAS18  # Stripper temperature
      - TEP_XMEAS19  # Stripper steam flow

  utilities:
    description: "Compressor and purge"
    signals:
      - TEP_XMEAS10  # Purge rate (stream 9)
      - TEP_XMEAS20  # Compressor work

  # ---------------------------------------------------------------------------
  # COMPOSITION MEASUREMENTS - By location
  # ---------------------------------------------------------------------------

  composition_reactor:
    description: "Reactor feed composition (mol%)"
    signals:
      - TEP_XMEAS23  # Reactor feed A (mol%)
      - TEP_XMEAS24  # Reactor feed B (mol%)
      - TEP_XMEAS25  # Reactor feed C (mol%)
      - TEP_XMEAS26  # Reactor feed D (mol%)
      - TEP_XMEAS27  # Reactor feed E (mol%)
      - TEP_XMEAS28  # Reactor feed F (mol%)

  composition_purge:
    description: "Purge stream composition (mol%)"
    signals:
      - TEP_XMEAS29  # Purge A (mol%)
      - TEP_XMEAS30  # Purge B (mol%)
      - TEP_XMEAS31  # Purge C (mol%)
      - TEP_XMEAS32  # Purge D (mol%)
      - TEP_XMEAS33  # Purge E (mol%)
      - TEP_XMEAS34  # Purge F (mol%)
      - TEP_XMEAS35  # Purge G (mol%)
      - TEP_XMEAS36  # Purge H (mol%)

  composition_product:
    description: "Product composition (mol%)"
    signals:
      - TEP_XMEAS37  # Product D (mol%)
      - TEP_XMEAS38  # Product E (mol%)
      - TEP_XMEAS39  # Product F (mol%)
      - TEP_XMEAS40  # Product G (mol%)
      - TEP_XMEAS41  # Product H (mol%)

  # ---------------------------------------------------------------------------
  # CONTROL VARIABLES
  # ---------------------------------------------------------------------------

  controls:
    description: "Manipulated variables (control valve positions)"
    signals:
      - TEP_XMV01   # D feed flow valve
      - TEP_XMV02   # E feed flow valve
      - TEP_XMV03   # A feed flow valve
      - TEP_XMV04   # A and C feed flow valve
      - TEP_XMV05   # Compressor recycle valve
      - TEP_XMV06   # Purge valve
      - TEP_XMV07   # Separator liquid flow valve
      - TEP_XMV08   # Stripper liquid product valve
      - TEP_XMV09   # Stripper steam valve
      - TEP_XMV10   # Reactor cooling water valve
      - TEP_XMV11   # Condenser cooling water valve

  # ---------------------------------------------------------------------------
  # FAULT INDICATOR
  # ---------------------------------------------------------------------------

  fault:
    description: "Fault code (for validation)"
    signals:
      - TEP_FAULT

# Meta-cohorts for higher-level analysis
meta_cohorts:
  measurements:
    description: "All process measurements"
    cohorts: [feeds, reactor, separator, stripper, utilities]

  compositions:
    description: "All composition measurements"
    cohorts: [composition_reactor, composition_purge, composition_product]

  process:
    description: "All process variables (measurements + compositions)"
    cohorts: [feeds, reactor, separator, stripper, utilities, composition_reactor, composition_purge, composition_product]
