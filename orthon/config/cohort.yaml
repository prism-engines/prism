# Orthon Cohort Discovery Configuration
# ======================================
# Settings for 3-layer hierarchical cohort discovery

version: "1.0.0"

# =============================================================================
# SIGNAL TYPES (Layer 1)
# =============================================================================
# Cluster signals by behavioral fingerprint

signal_types:
  method: kmeans
  max_clusters: 5
  features:
    - hurst_exponent
    - sample_entropy
    - spectral_centroid
    - garch_alpha
  min_samples_per_cluster: 2


# =============================================================================
# STRUCTURAL GROUPS (Layer 2)
# =============================================================================
# Cluster entities by correlation patterns

structural_groups:
  method: kmeans
  max_clusters: 5
  features:
    - mi_mean           # Mean mutual information
    - pca_variance_1    # First principal component variance
    - clustering_silhouette
  min_samples_per_cluster: 2


# =============================================================================
# TEMPORAL COHORTS (Layer 3)
# =============================================================================
# Cluster entities by trajectory dynamics (within structural groups)

temporal_cohorts:
  method: kmeans
  max_clusters: 3
  features:
    - hd_slope          # Hausdorff distance slope (coherence loss velocity)
    - mean_velocity
    - trajectory_length
  min_samples_per_cluster: 1
  within_structural_groups: true


# =============================================================================
# CONFIDENCE METRICS
# =============================================================================
# Settings for clustering confidence calculation

confidence:
  # Weights for composite score
  weights:
    silhouette: 0.40
    bootstrap_stability: 0.30
    calinski_harabasz: 0.20
    gap_statistic: 0.10

  # Bootstrap settings
  bootstrap:
    n_iterations: 100
    min_samples_for_bootstrap: 10

  # Gap statistic settings
  gap:
    n_reference: 10

  # Interpretation thresholds
  thresholds:
    strong: 0.75
    moderate: 0.50
    weak: 0.25


# =============================================================================
# OPTIMAL K SELECTION
# =============================================================================
# How to automatically select number of clusters

optimal_k:
  method: gap           # gap, silhouette, or elbow
  max_k: 10
  min_k: 2
